<!DOCTYPE html>
<html lang="en">
<head>
    <title>Document</title>
    <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@600&display=swap" rel="stylesheet">
    
    <!-- Style sheets for the game -->
    <link href="CSS/documentStyles.css" rel="stylesheet">
    <link href="CSS/rootStyles.css" rel="stylesheet">
    <link href="CSS/siteStyles.css" rel="stylesheet">
    <link href="CSS/checkBoxStyles.css" rel="stylesheet">
    

</head><body>

<div id="app"></div>

<script src="model.js"></script>
<script src="finalboss.js"></script>
<script>

    //Changable global vaiables
    let shortApp = document.getElementById('app');
    let gameName = "War Dude";
    let gameInit = "Slay";

// intro view
// drawIntro();
function drawIntro() {
    let introScreen = `

    <div class="preGame" id="preGame" style="height: 20%; width: 20%;">
        <div id="gameHeadingH1">
            <h1 style="margin-bottom: 10%;">${gameName}</h1>
        </div>
        <div id="trapez"></div>
        <button onclick ="drawSettings()">Play</button>
    </div>

    `;
shortApp.innerHTML = introScreen;
}

// drawSettings();
function drawSettings() {

    let settingsScreen = `
        <div class="preGame" id="preGame" style="justify-content: space-between;">
            <div id="gameHeadingH1">
                <h1 style="margin-bottom: 10%;">${gameName}</h1>
            </div>
            <textarea id="enterName" maxlength="20" oninput="playerName = this.value" placeholder="Player name..." value="${playerName}"></textarea>
            <div style="display: flex; justify-content: space-evenly; width: 50%;">
                <label class="container">
                    <input class="classSelector" type="radio" name="class" onchange="playerClass = this.value" value="warrior">Warrior</input>
                    <span class="checkmark"></span>
                </label>
                <label class="container">
                    <input class="classSelector" type="radio" name="class" onchange="playerClass = this.value" value="mage">Mage</input>
                    <span class="checkmark"></span>
                </label>
            </div>
            <button onclick="drawTown()" style="width: 50%; height: 10%; border-radius: 2px;">Confirm</button>
        </div>
        
    `;

shortApp.innerHTML = settingsScreen;
}

// drawTown();
function drawTown() {



    currentPlayerHealth = playerHealth;

    talents = talents == mageTalents ? mageTalents : warriorTalents;

    let talentOneDescription = talents == mageTalents ? "Fireball" : "Swing";
    let talentTwoDescription = talents == mageTalents ? "Scortch" : "Rend";
    let talentThreeDescription = talents == mageTalents ? "Pyroignition" : "Execute";
    
    let talentOne = talents == mageTalents ? mageAttack : warriorAttack;
    let talentTwo = talents == mageTalents ? mageBleed : warriorBleed;
    let talentThree = talents == mageTalents ? mageExecute : warriorExecute;
    
    let playerOverviewScreen = `
    <h5>${playerName}</h5>
    <h6>${playerClass}</h6>
        <div id="playerOverview">  
            <div id="statsContainer">
                <button onclick="showThis(this)" value="false">stats</button>
                <div id="stats" style="display: none">
                    <div>Agility ${agility} <button onclick="increaseStats()">${statsAvailable}</button></div>
                    <div>Strength ${strength} <button onclick="increaseStats()">${statsAvailable}</button></div>
                    <div>Intelligence ${intelligence} <button onclick="increaseStats()">${statsAvailable}</button></div>
                </div>
            </div>
            <div id="talentsContainer">
                <button onclick="showThis(this)" value="false">talents</button>
                <div id="talents" style="display: none">
                    <div>${talentOneDescription} ${talentOne} <button onclick="increaseStats()">${talentsAvailable}</button></div>
                    <div>${talentTwoDescription} ${talentTwo} <button onclick="increaseStats()">${talentsAvailable}</button></div>
                    <div>${talentThreeDescription} ${talentThree} <button onclick="increaseStats()">${talentsAvailable}</button></div>
                </div>
            </div>
            
            <button id="nextGame" onclick="choseMap()">${gameInit}</button>
        </div>
        <div id="square"></div>
    `;

shortApp.innerHTML = playerOverviewScreen;
}

//choseMap();
function choseMap() {

    // mock model
    playerName = "Fritjof";
    playerClass = "Warrior";

    currentMonsterHealth = monsterHealth;

    
    let disableAction = chosenMap == "castle" || chosenMap == "cove" ? "" : "disabled";

    let choseMapScreen = `
        <div id="playerInfo">   
                <h5>${playerName}</h5><h6>${playerClass}</h6><h6>Level : ${playerLevel}</h6><h6>${currentPlayerExp} / ${requiredPlayerExp}</h6>
        </div>
        <div id="chooseMap">
            <div id="mapOverview">
                <div id="map1" onclick="chosenMap = 'castle', choseMap()"><sup>Castle</sup></div>
                <div id="map2" onclick="chosenMap = 'cove', choseMap()"><sup>Cove</sup></div>
            </div>
            <button ${disableAction} id="nextGame" onclick="combatStatus(chosenMap)">${gameInit}</button>
        </div>
    `;

    shortApp.innerHTML = choseMapScreen;
}


//veiw
combatStatus();
function combatStatus(chosenMap) {

    
    // mock model
    chosenMap = "castle";
    playerName = "Fritjof";
    playerClass = "Warrior";
    
    currentstats = warr
    
    let disableAction = monsterHealth <= 0 || playerHealth <= 0 ? "disabled" : "";
    let enableAction = monsterHealth <=0 || playerHealth <= 0 ? "" : "disabled";

    // let timeOut = timeOut(function(){}, 3000);
    
    
    if (chosenMap === "castle") {
        let drawView = `
        <div id="playerInfo">   
                    <h5>${playerName}</h5><h6>${playerClass}</h6><h6>Level : ${playerLevel}</h6><h6>${currentPlayerExp} / ${requiredPlayerExp}</h6>
            </div>
            <!-- cove and caste = row -->
            <div id="castle">          
                <div id="player">
                    <img id="${playerClass}">
                    <div>${currentStats}</div>     
                </div>

                <div id="action">
                    <p>Player Health: ${playerHealth}</p>
                    <p>Monster Health: ${monsterHealth}</p>
                    <button ${disableAction} onclick="playerAttack()">Attack</button>
                    <button ${enableAction} onclick="combatStats()">Show stats...</button>
                </div>
                
                <div id="computer">
                
                
                
                
 
                </div>
            </div>   
        `;

        shortApp.innerHTML = drawView;
    }

    else if (chosenMap === "cove") {
        let drawView = `
            <div id="playerInfo">   
                    <h5>${playerName}</h5><h6>${playerClass}</h6><h6>Level : ${playerLevel}</h6><h6>${currentPlayerExp} / ${requiredPlayerExp}</h6>
            </div>
            <!-- cove and caste = row -->
            <div id="cove">          
                <div id="player">
                    <img id="${playerClass}">
                    <div>${currentStats}</div>
                </div>

                <div id="action">
                    <p>Player Health: ${playerHealth}</p>
                    <p>Monster Health: ${monsterHealth}</p>
                    <button ${disableAction} onclick="playerAttack()">Attack</button>
                    <button ${enableAction} onclick="combatStats()">Show stats...</button>
                </div>
                
                <div id="computer">
                
                
                
                
 
                </div>
            </div>      
        `;

        shortApp.innerHTML = drawView;
    }

    else return choseMap(); 
}

function combatStats() {


    let enableAction = monsterHealth <=0 || playerHealth <= 0 ? "" : "disabled";

    let drawCombatStatus = `
    
    <button ${enableAction} onclick="drawTown()">Back to Town</button>
    
    `;
    shortApp.innerHTML = drawCombatStatus;
    

}


</script><script src="controller.js"></script></body></html>